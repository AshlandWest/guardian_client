{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"C:\\\\Code\\\\Project Gardian\\\\Production App\\\\guardian_client\\\\CovidGuardianClient\\\\App.js\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Constants from \"expo-constants\";\nimport * as Permissions from \"expo-permissions\";\nimport * as Location from \"expo-location\";\nimport * as TaskManager from \"expo-task-manager\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nvar TASK_GUARDIAN_LOCATION = \"guardian_location\";\nTaskManager.defineTask(TASK_GUARDIAN_LOCATION, function (_ref) {\n  var data = _ref.data,\n      error = _ref.error;\n\n  if (error) {\n    return;\n  }\n\n  if (data) {\n    var locations = data.locations;\n  }\n});\n\nvar App = function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      location: null,\n      errorMessage: null,\n      inputText: null,\n      phoneNumber: null\n    };\n\n    _this.onPress = function _callee() {\n      var _await$Location$reque, status, ios;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Location.requestPermissionsAsync());\n\n            case 2:\n              _await$Location$reque = _context.sent;\n              status = _await$Location$reque.status;\n              ios = _await$Location$reque.ios;\n\n              if (status !== \"granted\") {\n                _this.setState({\n                  errorMessage: \"Permission to access location was denied\"\n                });\n              }\n\n              if (!(status === \"granted\")) {\n                _context.next = 9;\n                break;\n              }\n\n              _context.next = 9;\n              return _regeneratorRuntime.awrap(Location.startLocationUpdatesAsync(TASK_GUARDIAN_LOCATION, {\n                accuracy: Location.HIGH,\n                showsBackgroundLocationIndicator: true,\n                distanceInterval: \"20\",\n                deferredUpdatesInterval: \"200\",\n                deferredUpdatesDistance: \"20\",\n                pausesUpdatesAutomatically: true\n              }));\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.watchLocation = function _callee2() {\n      var location;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));\n\n            case 2:\n              location = _context2.sent;\n\n              _this.setState({\n                location: location\n              });\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    if (Platform.OS === \"android\" && !Constants.isDevice) {\n      _this.setState({\n        errorMessage: \"Oops, this will not work on Sketch in an Android emulator. Try it on your device!\"\n      });\n    } else {\n      _this.watchLocation();\n    }\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var text = \"Waiting..\";\n\n      if (this.state.errorMessage) {\n        text = this.state.errorMessage;\n      } else if (this.state.location) {\n        text = JSON.stringify(this.state.location);\n      }\n\n      var phoneOrLocRequest = \"Loading...\";\n\n      if (!this.state.location) {\n        phoneOrLocRequest = React.createElement(TouchableOpacity, {\n          onPress: this.onPress,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 9\n          }\n        }, React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 11\n          }\n        }, \"Enable background location\"));\n      } else {\n        phoneOrLocRequest = React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 9\n          }\n        }, React.createElement(Text, {\n          style: styles.instructions,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 11\n          }\n        }, \"Phone Number\"), React.createElement(TextInput, {\n          style: {\n            width: 250,\n            height: 40,\n            borderColor: \"gray\",\n            borderWidth: 1,\n            marginBottom: 10,\n            alignSelf: \"center\",\n            margin: \"auto\"\n          },\n          autoCompleteType: \"tel\",\n          type: \"tel\",\n          placeholder: \"+1(555)555-555\",\n          onChangeText: function onChangeText(text) {\n            return _this2.state.inputText = text;\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 11\n          }\n        }), React.createElement(TouchableOpacity, {\n          onPress: this.state.phoneNumber = this.state.inputText,\n          title: \"Submit\",\n          accessibilityLabel: \"Submit phone number\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 11\n          }\n        }, React.createElement(Text, {\n          style: styles.instructions,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }\n        }, \"Sign Up\")), React.createElement(Text, {\n          style: styles.paragraph,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 11\n          }\n        }, text));\n      }\n\n      var enteredPhoneNumber = \"No phone number in state\";\n\n      if (this.state.phoneNumber) {\n        enteredPhoneNumber = React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 28\n          }\n        }, this.state.phoneNumber);\n      }\n\n      return React.createElement(LinearGradient, {\n        colors: [\"#94e4f9\", \"#2d93d8\"],\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        style: styles.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 9\n        }\n      }, \"Guardian\"), React.createElement(Image, {\n        source: require(\"./images/logo.png\"),\n        style: {\n          width: 200,\n          height: 200,\n          marginBottom: 50\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 9\n        }\n      }), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 9\n        }\n      }, phoneOrLocRequest), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 9\n        }\n      }, enteredPhoneNumber));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.watchLocation();\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport { App as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: Constants.statusBarHeight,\n    backgroundColor: \"#ecf0f1\"\n  },\n  welcome: {\n    fontSize: 20,\n    textAlign: \"center\",\n    margin: 10\n  },\n  instructions: {\n    textAlign: \"center\",\n    color: \"#fff\",\n    marginBottom: 5\n  },\n  paragraph: {\n    margin: 24,\n    fontSize: 18,\n    textAlign: \"center\",\n    color: \"#000\"\n  },\n  title: {\n    fontSize: 50,\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n    margin: 10,\n    color: \"#ffffff\"\n  }\n});","map":{"version":3,"sources":["C:/Code/Project Gardian/Production App/guardian_client/CovidGuardianClient/App.js"],"names":["React","Component","Constants","Permissions","Location","TaskManager","LinearGradient","TASK_GUARDIAN_LOCATION","defineTask","data","error","locations","App","props","state","location","errorMessage","inputText","phoneNumber","onPress","requestPermissionsAsync","status","ios","setState","startLocationUpdatesAsync","accuracy","HIGH","showsBackgroundLocationIndicator","distanceInterval","deferredUpdatesInterval","deferredUpdatesDistance","pausesUpdatesAutomatically","watchLocation","getCurrentPositionAsync","Platform","OS","isDevice","text","JSON","stringify","phoneOrLocRequest","styles","instructions","width","height","borderColor","borderWidth","marginBottom","alignSelf","margin","paragraph","enteredPhoneNumber","container","title","require","StyleSheet","create","flex","alignItems","justifyContent","paddingTop","statusBarHeight","backgroundColor","welcome","fontSize","textAlign","color","fontWeight"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  Platform,\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  Image,\r\n  TextInput,\r\n  Button\r\n} from \"react-native\";\r\nimport { TouchableOpacity } from \"react-native\";\r\nimport Constants from \"expo-constants\";\r\nimport * as Permissions from \"expo-permissions\";\r\nimport * as Location from \"expo-location\";\r\nimport * as TaskManager from \"expo-task-manager\";\r\nimport { LinearGradient } from \"expo-linear-gradient\";\r\n\r\nconst TASK_GUARDIAN_LOCATION = \"guardian_location\";\r\n\r\nTaskManager.defineTask(TASK_GUARDIAN_LOCATION, ({ data, error }) => {\r\n  if (error) {\r\n    return;\r\n  }\r\n  if (data) {\r\n    const { locations } = data;\r\n    // TODO: AsyncStorage\r\n    // TODO: SecureStorage\r\n  }\r\n});\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    location: null,\r\n    errorMessage: null,\r\n    inputText: null,\r\n    phoneNumber: null\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    if (Platform.OS === \"android\" && !Constants.isDevice) {\r\n      this.setState({\r\n        errorMessage:\r\n          \"Oops, this will not work on Sketch in an Android emulator. Try it on your device!\"\r\n      });\r\n    } else {\r\n      this.watchLocation();\r\n    }\r\n  }\r\n\r\n  //Could this be a more specific name? There are multiple onPress functions on this page, so this variable name could be ambiguous\r\n  onPress = async () => {\r\n    const { status, ios } = await Location.requestPermissionsAsync();\r\n    if (status !== \"granted\") {\r\n      this.setState({\r\n        errorMessage: \"Permission to access location was denied\"\r\n      });\r\n    }\r\n    if (status === \"granted\") {\r\n      await Location.startLocationUpdatesAsync(TASK_GUARDIAN_LOCATION, {\r\n        accuracy: Location.HIGH,\r\n        showsBackgroundLocationIndicator: true,\r\n        //timeInterval: 0,\r\n        distanceInterval: \"20\", // meters\r\n        deferredUpdatesInterval: \"200\", //ms\r\n        deferredUpdatesDistance: \"20\", //meters\r\n        pausesUpdatesAutomatically: true\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let text = \"Waiting..\";\r\n    if (this.state.errorMessage) {\r\n      text = this.state.errorMessage;\r\n    } else if (this.state.location) {\r\n      text = JSON.stringify(this.state.location);\r\n    }\r\n    let phoneOrLocRequest = \"Loading...\";\r\n    // ***** Set to \"not\" for testing, should be changed back for production *****\r\n    if (!this.state.location) {\r\n      phoneOrLocRequest = (\r\n        <TouchableOpacity onPress={this.onPress}>\r\n          <Text>Enable background location</Text>\r\n        </TouchableOpacity>\r\n      );\r\n    } else {\r\n      phoneOrLocRequest = (\r\n        <View>\r\n          <Text style={styles.instructions}>Phone Number</Text>\r\n          <TextInput\r\n            style={{\r\n              width: 250,\r\n              height: 40,\r\n              borderColor: \"gray\",\r\n              borderWidth: 1,\r\n              marginBottom: 10,\r\n              alignSelf: \"center\",\r\n              margin: \"auto\"\r\n            }}\r\n            autoCompleteType=\"tel\"\r\n            type=\"tel\"\r\n            placeholder=\"+1(555)555-555\"\r\n            onChangeText={text => (this.state.inputText = text)}\r\n          />\r\n          <TouchableOpacity\r\n            onPress={(this.state.phoneNumber = this.state.inputText)}\r\n            title=\"Submit\"\r\n            accessibilityLabel=\"Submit phone number\"\r\n          >\r\n            <Text style={styles.instructions}>Sign Up</Text>\r\n          </TouchableOpacity>\r\n          <Text style={styles.paragraph}>{text}</Text>\r\n        </View>\r\n      );\r\n    }\r\n\r\n    //This entire section is intended to be removed for production and is just verifying to phone number is captured for now\r\n    let enteredPhoneNumber = \"No phone number in state\";\r\n    if (this.state.phoneNumber) {\r\n      enteredPhoneNumber = <Text>{this.state.phoneNumber}</Text>;\r\n    }\r\n\r\n    return (\r\n      <LinearGradient colors={[\"#94e4f9\", \"#2d93d8\"]} style={styles.container}>\r\n        <Text style={styles.title}>Guardian</Text>\r\n        <Image\r\n          source={require(\"./images/logo.png\")}\r\n          style={{ width: 200, height: 200, marginBottom: 50 }}\r\n        />\r\n        <View>{phoneOrLocRequest}</View>\r\n        <Text>{enteredPhoneNumber}</Text>\r\n      </LinearGradient>\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.watchLocation();\r\n  }\r\n\r\n  watchLocation = async () => {\r\n    let location = await Location.getCurrentPositionAsync({});\r\n    this.setState({ location });\r\n  };\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    paddingTop: Constants.statusBarHeight,\r\n    backgroundColor: \"#ecf0f1\"\r\n  },\r\n  welcome: {\r\n    fontSize: 20,\r\n    textAlign: \"center\",\r\n    margin: 10\r\n  },\r\n  instructions: {\r\n    textAlign: \"center\",\r\n    color: \"#fff\",\r\n    marginBottom: 5\r\n  },\r\n  paragraph: {\r\n    margin: 24,\r\n    fontSize: 18,\r\n    textAlign: \"center\",\r\n    color: \"#000\"\r\n  },\r\n  title: {\r\n    fontSize: 50,\r\n    fontWeight: \"bold\",\r\n    textAlign: \"center\",\r\n    margin: 10,\r\n    color: \"#ffffff\"\r\n  }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}